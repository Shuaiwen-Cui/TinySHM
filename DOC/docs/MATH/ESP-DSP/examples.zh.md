# ESP-DSP 案例

## esp-dsp 示例列表

信号处理 API 使用 dsps 前缀。以下模块可用：

- 基础数学 - 本示例演示如何使用基本向量数学运算

- 点积 - 本示例演示如何使用点积函数

- 快速傅里叶变换 - 本示例演示如何使用 FFT 功能

- 窗口 FFT - 本示例演示如何使用窗口和 FFT 功能

- 实数 FFT - 本示例演示如何使用 FFT 功能处理实数输入信号

- 无限脉冲响应 (IIR) - 本示例演示如何使用 IIR 滤波器功能

- 有限脉冲响应 (FIR) - 本示例演示如何使用 FIR 滤波器功能

- 卡尔曼滤波器 - 扩展卡尔曼滤波器 (EKF) 示例

- 矩阵 - 本示例演示如何使用 Mat 类功能

## 基础数学

本示例演示了如何使用 esp-dsp 库中的基本数学函数。示例执行以下步骤：

- 初始化库

- 用 1024 个样本初始化输入信号

- 使用标准 C 循环对输入信号加窗。

- 计算 1024 个复数样本的 FFT 并显示结果

- 在图表上显示结果

- 使用基本数学函数 dsps_mul_f32 和 dsps_mulc_f32 对输入信号加窗。

- 计算 1024 个复数样本的 FFT

- 在图表上显示结果

更多详细信息，请参阅 examples/basic_math/README.md

### 点积

本示例演示了如何使用 esp-dsp 库中的 dotprod dsps_dotprod_f32 函数。示例执行以下步骤：

- 初始化输入数组

- 计算两个数组的点积

- 比较结果并计算执行时间（以周期为单位）。

更多详情，请参阅 examples/dotprod/README.md

### FFT

本示例演示了如何使用 ESP-DSP 库中的 FFT 功能。示例执行以下步骤：

- 初始化库

- 用 1024 个样本初始化输入信号：第一个 0 dB，第二个 -20 dB

- 将两个信号合并为一个复数输入信号，并对输入信号对应用窗口。

- 计算 1024 个复数样本的 FFT

- 对输出复数向量应用位反转操作

- 将一个复数 FFT 输出频谱拆分为两个实数信号频谱

- 在图表上显示结果

- 显示 FFT 的执行时间

更多详细信息，请参阅 examples/fft/README.md

### FFT 窗口

本示例演示了如何使用 esp-dsp 库中的窗口和 FFT 功能。示例执行以下步骤：

- 初始化库

- 用 1024 个样本初始化输入信号

- 对输入信号应用窗口。

- 对 1024 个复数样本计算 FFT

- 对输出复数向量应用位反转操作

- 将一个复数 FFT 输出频谱拆分为两个实数信号频谱

- 在图表上显示结果

更多详细信息，请参阅 examples/fft_window/README.md

### FFT 4 Real

本示例演示了如何使用 ESP-DSP 库中的 FFT 功能。示例执行以下步骤：

- 初始化库

- 用 1024 个样本初始化输入信号：第一个 0 dB，第二个 -20 dB

- 计算 1024 个复数样本的 FFT 基数 2

- 计算 1024 个复数样本的 FFT 基数 4

- 对输出复数向量应用位反转运算

- 绘图显示结果

- 显示 FFT 执行时间

更多详细信息，请参阅 examples/fft4real/README.md

### IIR

本示例演示了如何使用 ESP-DSP 库中的 IIR 滤波器功能。示例执行以下步骤：

- 初始化库

- 初始化输入信号

- 显示 Q 因子为 1 的低通滤波器 (LPF)

- 计算 IIR 滤波器系数

- 滤波输入测试信号（Delta 函数）

- 在图中显示脉冲响应

- 在图中显示频率响应

- 计算执行性能

- 对于 Q 因子为 10 的低通滤波器，同样如此

更多详细信息，请参阅 examples/fir/README.md

### FIR

本示例演示了如何使用 ESP-DSP 库中的 FIR 滤波器功能。示例执行以下步骤：

- 初始化 FFT 库

- 初始化输入信号

- 显示输入信号

- 显示滤波后的信号

更多详细信息，请参阅 examples/fir/README.md

### 卡尔曼滤波器

本示例模拟了带有 IMU 传感器的系统，并展示了如何使用具有 13 个状态向量的扩展卡尔曼滤波器 (EKF) 来估计陀螺仪误差并计算系统姿态。此外，本示例还展示了如何使用 esp-dsp 库对矩阵和向量进行运算。

在实际系统中，应将模拟传感器值替换为实际传感器值。然后，在实际系统中，应执行校准阶段。校准阶段结束后，应保存状态向量 X 和协方差矩阵 P，并在下次调用滤波器时恢复。这将节省初始阶段的时间。

更多详细信息，请参阅 examples/kalman/README.md

### 矩阵

本示例演示如何使用 esp-dsp 库中的 Mat 类功能。示例执行以下步骤：

- 初始化矩阵 A 和 矩阵 x

- 计算矩阵 b：b = A*x

- 使用不同方法求 x1 的根：A*x1 = b

- 打印结果